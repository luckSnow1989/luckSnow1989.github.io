<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>小球弹弹弹</title>
<style type="text/css">
#rad{ width:40px; height:40px; position:absolute; left:0; top:0; background-color:#6F0; border-radius:20px;}
#main_div { background-image:url(contentpic.jpg);width:980px;height:1900px;margin:0 auto;}
#ad {background-image:url(advpic.jpg);width:117px;height:150px;position:absolute;top:30px;left:30px;}
</style>
<script type="text/javascript">
var r = 40;//小球的直径
var x = 0;//小球初始的位置坐标
var y = 0;
var wx = 0;//小球的运动方向
var wy = 0;
var s = 3;//每次移动的像素
//小球移动方法
function move(){
	var bx = document.documentElement.clientWidth;//浏览器宽度
	var by = document.documentElement.clientHeight;//浏览器高度
	if((x+r+s)>bx) {
		wx = 1;	
	} else if(x-s < 0){
		wx = 0;
	}
	if((y+r+s)>by + scrollHeight) {
		wy = 1;	
	} else if(y-s < scrollHeight){
		wy = 0;
	}	
	x = (wx==0)?x+s:x-s;
	y = (wy==0)?y+s:y-s;
	var config = document.getElementById('rad');
	config.style.left = x+"px";
	config.style.top = y +"px";
}
var speech = setInterval(move,30);//每30毫秒刷新一次，小球的位置

window.onscroll = change;//滚动条移动时触发
var scrollHeight = 0;//获得滚动条顶部的位置
function change() {
	scrollHeight = document.documentElement.scrollTop;//当前滚动条顶部的位置
}


</script>
</head>

<body>
	<div id="rad"></div>
	<div id="main_div"></div>
</body>
</html>
